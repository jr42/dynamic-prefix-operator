# Default values for dynamic-prefix-operator.

# -- Number of replicas (only 1 supported due to leader election)
replicaCount: 1

image:
  # -- Container image repository
  repository: ghcr.io/jr42/dynamic-prefix-operator
  # -- Image pull policy
  pullPolicy: IfNotPresent
  # -- Overrides the image tag (default is the chart appVersion)
  tag: "main"

# -- Image pull secrets for private registries
imagePullSecrets: []

# -- Override the name of the chart
nameOverride: ""

# -- Override the full name of the chart
fullnameOverride: ""

serviceAccount:
  # -- Create a service account
  create: true
  # -- Annotations to add to the service account
  annotations: {}
  # -- The name of the service account (generated if not set)
  name: ""

# -- Pod annotations
podAnnotations: {}

# -- Pod labels
podLabels: {}

# -- Pod security context
podSecurityContext:
  runAsNonRoot: true
  seccompProfile:
    type: RuntimeDefault

# -- Container security context
securityContext:
  allowPrivilegeEscalation: false
  capabilities:
    drop:
      - ALL
  readOnlyRootFilesystem: true

# -- Resource limits and requests
resources:
  limits:
    cpu: 500m
    memory: 128Mi
  requests:
    cpu: 10m
    memory: 64Mi

# -- Node selector
nodeSelector: {}

# -- Tolerations
tolerations: []

# -- Affinity rules
affinity: {}

# -- Priority class name
priorityClassName: ""

# ==============================================================================
# Operator Configuration
# ==============================================================================
config:
  # -- Log level (debug, info, error)
  logLevel: info

  # -- Enable leader election for HA deployments
  leaderElection:
    enabled: true

  # -- Metrics configuration
  metrics:
    # -- Enable metrics endpoint
    enabled: true
    # -- Metrics bind address
    bindAddress: ":8080"

  # -- Health probe configuration
  health:
    # -- Health probe bind address
    bindAddress: ":8081"

# ==============================================================================
# Network Configuration
# ==============================================================================
network:
  # -- Use host network namespace.
  # Required for the operator to see Router Advertisements on host interfaces.
  # When true, the operator pod runs in the host network namespace.
  hostNetwork: false

  # -- DNS policy when using hostNetwork (ClusterFirstWithHostNet recommended)
  dnsPolicy: ""

# ==============================================================================
# Network Policy
# ==============================================================================
networkPolicy:
  # -- Create NetworkPolicy resources
  enabled: false
  # -- Additional ingress rules
  additionalIngress: []
  # -- Additional egress rules
  additionalEgress: []

# ==============================================================================
# Pod Disruption Budget
# ==============================================================================
podDisruptionBudget:
  # -- Create PodDisruptionBudget
  enabled: false
  # -- Minimum available pods
  minAvailable: 1
  # -- Maximum unavailable pods (alternative to minAvailable)
  # maxUnavailable: 0

# ==============================================================================
# Prometheus / Monitoring
# ==============================================================================
serviceMonitor:
  # -- Create ServiceMonitor for Prometheus Operator
  enabled: false
  # -- Additional labels for ServiceMonitor
  additionalLabels: {}
  # -- Scrape interval
  interval: 30s
  # -- Scrape timeout
  scrapeTimeout: 10s
  # -- Metric relabeling configs
  metricRelabelings: []
  # -- Relabeling configs
  relabelings: []

# ==============================================================================
# CRD Installation
# ==============================================================================
crds:
  # -- Install CRDs with the chart
  install: true
  # -- Keep CRDs on chart uninstall
  keep: true
  # -- Annotations for CRDs
  annotations: {}

# ==============================================================================
# RBAC Configuration
# ==============================================================================
rbac:
  # -- Create RBAC resources
  create: true
  # -- Additional rules to add to the ClusterRole
  additionalRules: []
